{"version":3,"sources":["config.js","firestore.js","ResponseButton/ResponseButton.js","Message/Message.js","Greeting/Greeting.js","App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","initializeApp","db","getFirestore","name","message","a","addDoc","collection","timestamp","Timestamp","now","docRef","submitMessage","writeNewMessage","ResponseButton","useState","modalOpen","setModalOpen","setName","setMessage","Button","style","marginTop","variant","onClick","Dialog","open","onClose","DialogTitle","DialogContent","TextField","multiline","margin","id","label","fullWidth","value","onChange","event","target","DialogActions","Message","props","prewrittenVariant","Typography","Greeting","onGreet","App","seconds","updateMessage","greeting","setGreeting","callback","q","query","orderBy","limit","onSnapshot","snapshot","forEach","doc","console","log","data","error","getLatestMessage","newMessage","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3deb401.chunk.js","sourcesContent":["\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyChUBpBGUz4PV0s4Y-ZKLcn8dLqs8tx6aQ\",\r\n  authDomain: \"amulet-2853a.firebaseapp.com\",\r\n  projectId: \"amulet-2853a\",\r\n  storageBucket: \"amulet-2853a.appspot.com\",\r\n  messagingSenderId: \"31827928938\",\r\n  appId: \"1:31827928938:web:b912610cece3a9b8702713\"\r\n};\r\n\r\nexport default firebaseConfig","import { initializeApp } from 'firebase/app';\r\nimport { \r\n    query, \r\n    orderBy, \r\n    limit, \r\n    onSnapshot, \r\n    getFirestore, \r\n    collection,\r\n    addDoc,\r\n    Timestamp\r\n} from \"firebase/firestore\";\r\n\r\nimport firebaseConfig from './config.js'\r\n\r\n\r\ninitializeApp(firebaseConfig);\r\n\r\nconst db = getFirestore();\r\n\r\n\r\nexport function getLatestMessage(callback) {\r\n  const q = query(collection(db, 'messages'), orderBy(\"timestamp\", \"desc\"), limit(1))\r\n  onSnapshot(q, \r\n    (snapshot) => {\r\n      snapshot.forEach((doc) => {\r\n        console.log(\"Got doc: \", doc.data())\r\n        callback(doc.data())\r\n      })\r\n    },\r\n    (error) => {\r\n      console.log(\"error in query: \", error)\r\n    }\r\n  )\r\n}\r\n\r\nexport async function writeNewMessage(name, message) {\r\n    const docRef = await addDoc(collection(db, 'messages'), {\r\n        name,\r\n        message,\r\n        timestamp: Timestamp.now()\r\n    })\r\n    return docRef\r\n}","import { useState } from 'react';\r\n\r\nimport { Button, TextField } from '@mui/material'\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport { writeNewMessage } from '../firestore'\r\n\r\nfunction submitMessage(name, message) {\r\n  writeNewMessage(name, message)\r\n}\r\n\r\nfunction ResponseButton() {\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const [name, setName] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  return (\r\n    <div>\r\n      <Button style={{marginTop: '50px'}} variant=\"contained\" onClick={()=>setModalOpen(true)}>Leave your own message :)</Button>\r\n      <Dialog open={modalOpen} onClose={()=>setModalOpen(false)}>\r\n        <DialogTitle>Leave your own message</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n              multiline\r\n              margin=\"dense\"\r\n              id=\"message\"\r\n              label=\"Message\"\r\n              fullWidth\r\n              variant=\"standard\"\r\n              value={message}\r\n              onChange={(event)=>{\r\n                setMessage(event.target.value)\r\n              }}\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Name\"\r\n            variant=\"standard\"\r\n            value={name}\r\n            onChange={(event)=>{\r\n              setName(event.target.value)\r\n            }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={()=>{\r\n              submitMessage(name, message)\r\n              setModalOpen(false)\r\n            }}\r\n          >\r\n          Submit\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default ResponseButton;\r\n","import { Typography } from '@mui/material'\r\nimport './message.css'\r\n\r\nfunction Message(props) {\r\n  const prewrittenVariant = \"subtitle1\"\r\n  return (\r\n    <div>\r\n      <Typography variant={prewrittenVariant}><b>Someone named</b></Typography>\r\n      <Typography variant=\"h5\">{props.name}</Typography>\r\n      <Typography variant={prewrittenVariant}><b>wants to tell you</b></Typography>\r\n      <Typography variant=\"body1\">{props.message}</Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import { Typography, Button } from '@mui/material'\r\nimport './greeting.css'\r\n\r\nfunction Greeting(props) {\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h2\"><b>You have</b></Typography>\r\n      <Typography variant=\"h2\">1</Typography>\r\n      <Typography variant=\"h2\">New Message</Typography>\r\n      <Button  variant=\"contained\" style={{marginTop: \"10px\"}} onClick={()=>props.onGreet()}>Read it?</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Greeting;\r\n","import { useState } from 'react';\nimport './App.css';\nimport { getLatestMessage, writeNewMessage } from './firestore'\n\nimport ResponseButton from './ResponseButton/ResponseButton'\nimport Message from './Message/Message'\nimport Greeting from './Greeting/Greeting'\n\n\n\nfunction App() {\n  const [message, updateMessage] = useState({message: \"\", name:\"\", timestamp: {seconds: 0}})\n  const [greeting, setGreeting] = useState(true)\n  getLatestMessage((newMessage) => {\n    if (newMessage.timestamp.seconds !== message.timestamp.seconds) {\n      updateMessage(newMessage)\n    }\n  })\n\n  if (greeting) {\n    return (\n      <div className=\"App\">\n        <Greeting onGreet={()=>setGreeting(false)} />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <Message name={message.name} message={message.message} />\n      <ResponseButton />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}